<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="theme-color" content="#EAE6F8" />
  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="icon.png" type="image/png" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
  <title>Cathy’s Quotes/Invoice</title>
</head>
<body>
  <header class="app-header">
    <img src="icon.png" alt="Cathy’s Logo" class="logo" />
    <h1>Cathy’s Quotes/Invoice</h1>
  </header>

  <main>
    <section class="doc-toggle">
      <label class="toggle-label" for="docTypeSelect">
        <span class="doc-label">Document Type:</span>
        <select id="docTypeSelect" aria-label="Document Type">
          <option value="Invoice">Invoice</option>
          <option value="Quotation">Quotes</option>
          <option value="Export">Exports</option>
          <option value="Import">Imports</option>
        </select>
      </label>
    </section>

    <section class="client-info">
      <input type="text" id="clientName" placeholder="Client Name" aria-label="Client Name" inputmode="text" />
      <input type="date" id="invoiceDate" aria-label="Invoice Date" inputmode="numeric" />
    </section>

    <section class="item-entry">
      <input type="text" id="itemName" placeholder="Item Name" aria-label="Item Name" inputmode="text" />
      <input type="number" id="itemQty" placeholder="Quantity" min="1" aria-label="Quantity" inputmode="numeric" />
      <input type="number" id="itemPrice" placeholder="Price (USD)" min="0" step="0.01" aria-label="Price" inputmode="decimal" />
      <button id="addItemBtn" aria-label="Add Item">Add Item</button>
    </section>

    <!-- ✅ SCROLLABLE TABLE FIX -->
    <section class="invoice-table">
      <div style="overflow-x: auto;">
        <table aria-label="Invoice Item Table">
          <thead>
            <tr>
              <th>Item</th>
              <th>Qty</th>
              <th>Price</th>
              <th>Total</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="itemList"></tbody>
        </table>
      </div>
    </section>

    <section class="totals">
      <p>Subtotal: <span id="subtotal">$0.00</span></p>
      <p><strong>Total: <span id="total">$0.00</span></strong></p>
      <button id="convertZWLBtn">Convert to ZWL</button>
    </section>

    <section class="actions">
      <button id="printBtn">Print</button>
      <button id="pdfBtn">Export to PDF</button>
      <button id="clearBtn">Clear All</button>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 Cathy’s Quotes/Invoice. Built for Kontrol Techniks Zimbabwe.</p>
  </footer>

  <!-- 🖨️ Hidden printable template -->
  <div id="invoicePrintArea" style="visibility: hidden; position: absolute; left: -9999px; top: 0;"></div>

  <!-- 📲 PWA Install Banner -->
  <div id="installBanner" style="display: none; position: fixed; bottom: 20px; left: 20px; right: 20px; background: #eae6f8; border: 1px solid #ccc; padding: 16px; border-radius: 8px; z-index: 9999; box-shadow: 0 4px 12px rgba(0,0,0,0.15);">
    <div style="display: flex; justify-content: space-between; align-items: center;">
      <span style="font-family: 'Poppins', sans-serif; color: #4b2c76;">Install this app for a better experience.</span>
      <button id="installBtn" style="background: #7d52c1; color: white; border: none; padding: 0.5rem 1rem; border-radius: 6px; cursor: pointer;">Install</button>
    </div>
  </div>

  <!-- 📦 Libraries -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
  <script src="script.js?v=1.0.9" defer></script>
</body>
</html>
